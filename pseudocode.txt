main
    open queue

    fork to create children with msg queue id

    if parent
        run server
        close queue

    exit


server
    while the program is running
        listen for filenames
            if a filename is read from message queue
                get pid and file from message
                serve(pid, file)


serve(pid, file)
    open the file
    send the file over the message queue with mtype of pid


client(qid)
    create message buffer
    get pid
    get filename from user
    write filename to msg and pid to msg queue with mtype 1
    
    while reading from msg queue doesnt return an error
        save message to buffer
        display buffer
    