main
    if server program
        make queue
        start server
        remove queue
        exit

    if client
        start client
        exit


server
    while the program is running
        if there is a new client
            addClient(pid, priority, file)
            
        for every client in the queue
            server 1 message to that client
            if the last message was served
                flag the client to be removed
        
        removeFlaggedClients


addClient
    open the file
        if there is an error
            reply with error message
            return
        else
            create client structure
            add the client to the queue x amount of times based on priority
            [high = 4, normal = 2, low = 1]


removeFlaggedClients
    loop through the queue backwards
        if the client was flagged as completed
            remove it


client(qid)
    get pid
    create message buffer
    write filename, priority, and pid to msg queue with mtype 1
    
    while reading from msg queue doesnt return an error
        save message to buffer
        display buffer
    